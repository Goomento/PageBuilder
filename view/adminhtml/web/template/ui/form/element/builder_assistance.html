<!--
/**
 * @package Goomento_PageBuilder
 * @link https://github.com/Goomento/PageBuilder
 */
-->
<div class="builder-assistance" data-bind="css: wrapperClasses().join(' '), afterRender: afterRender">
    <div class="builder-assistance-action">
        <div class="builder-assistance-buttons">
            <button data-bind="text: toggleBtnLabel, click: onClickAssistanceBtn,
                css: { 'builder-assistance-btn-highlight goomento-logo-white': !isActiveBuilderAssistance() }" class="builder-assistance-btn goomento-logo-grey"></button>
            <button data-bind="text: wysiwygBtnLabel, click: onClickWysiwygBtn, visible: !isActiveBuilderAssistance()"
                    class="builder-assistance-btn"></button>
        </div>
        <div class="builder-assistance-action-wrapper" data-bind="visible: isActiveBuilderAssistance">
            <div class="builder-assistance-messages builder-assistance-field">
                <div class="builder-assistance-message message" data-bind="text: message"></div>
            </div>
            <div class="builder-assistance-actions">
                <div class="builder-assistance-field" data-bind="visible: showSelectBox() && availableContentIds().length > 1">
                    <div class="builder-assistance-select-box" data-bind="visible: showSelectionList()">
                        <select class="builder-assistance-btn" data-bind="options: availableContentIds,
                        value: selectedContentId, optionsText: 'label', afterRender: function() {jQuery($element).select2();},
                        optionsValue: 'value', event:{ change: onSelected }
                        "></select>
                    </div>
                    <span class="builder-assistance-ignore-btn"
                       data-bind="visible: !showSelectionList(), click: onClickChangeBuilderBtn" title="Click To Change Page Builder"></span>
                </div>
                <div class="builder-assistance-field" data-bind="visible: showMigrateBtn">
                    <button class="builder-assistance-btn"
                        data-bind="click: onClickMigrateBtn, i18n: 'Migrate Now'"></button>
                </div>
                <div class="builder-assistance-field" data-bind="visible: showCreateBtn">
                    <button class="builder-assistance-btn builder-assistance-btn-highlight"
                        data-bind="click: onClickCreateBtn, i18n: 'Create New'"></button>
                    </div>
                <div class="builder-assistance-field" data-bind="visible: showEditBtn">
                    <button class="builder-assistance-btn builder-assistance-btn-highlight goomento-logo-white"
                        data-bind="click: onClickEditBtn, i18n: 'Edit With Goomento'"></button>
                </div>
            </div>
        </div>
    </div>
    <div class="builder-assistance-editor" data-bind="visible: !isActiveBuilderAssistance()">
        <div class="builder-assistance-wysiwyg" data-bind="visible: showWysiwyg">
            <div data-bind="html: wysiwygEditor"></div>
        </div>
        <div class="builder-assistance-textarea" data-bind="visible: !showWysiwyg()">
            <textarea class="admin__control-textarea" data-bind="
                value: value,
                valueUpdate: valueUpdate,
                hasFocus: focused,
                attr: {
                    cols: cols,
                    rows: rows,
                    name: inputName,
                    'aria-describedby': noticeId,
                    placeholder: placeholder,
                    id: uid,
                    name: html_name,
                    disabled: disabled
                }"></textarea>
        </div>
    </div>
</div>

